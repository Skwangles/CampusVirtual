-- CORNER WITH FLOATLY BITS

BEGIN TRANSACTION;

TRUNCATE TABLE node_locations, nodes, edges RESTART IDENTITY;

-- Must be used in 'use_trans' mode for getNodePosition(), which is the default

INSERT INTO nodes (ts, pose, keyframe_id, x_trans, y_trans, z_trans) VALUES 
(100, '{1, 0, 0, 0.5,    0.1, 1, 0, 0,    0, 0, 1, 0,   0, 0, 0, 1}', 1, 0.5, 0, 0),
(100, '{1, 0, 0, 0.1,    0, 1, 0, 0,    0, 0, 1, 0,   0, 0, 0, 1}', 2, 0.1, 0, 0),
(100, '{1, 0, 0, 0.11,   0, 1, 0, 0,    0, 0, 1, 0,   0, 0, 0, 1}', 3, 0.11,0, 0),
(100, '{1, 0, 0, 0.12,   0, 1, 0, 0.1,    0, 0, 1, 0,   0, 0, 0, 1}', 4, 0.12, 0.1, 0),
(100, '{1, 0, 0, 0,      0, 1, 0, 0,    0, 0, 1, 0,   0, 0, 0, 1}', 5, 0, 0, 0), -- Corner
(100, '{1, 0, 0, 0,      0, 1, 0, 0,    0, 0, 1, 0.05,   0, 0, 0, 1}', 6, 0, 0, 0.05),
(100, '{1, 0, 0, 0,      0, 1, 0, 0,    0, 0, 1, 0.1,   0, 0, 0, 1}', 7, 0, 0, 0.1),
(100, '{1, 0, 0, 0,      0, 1, 0, 0,    0, 0, 1, 0.5,   0, 0, 0, 1}', 8, 0, 0, 0.5),
(100, '{1, 0, 0, 0,      0, 1, 0, 0,    0, 0, 1, 0.8,   0, 0, 0, 1}', 9, 0, 0, 0.8),
(100, '{1, 0, 0, 0,      0, 1, 0, 0,    0, 0, 1, 1.2,   0, 0, 0, 1}', 10, 0, 0, 1.2), -- Long tail off the back
(100, '{1, 0, 0, 0,      0, 1, 0, 0,    0, 0, 1, 1.7,   0, 0, 0, 1}', 11, 0, 0, 1.7),
(100, '{1, 0, 0, 0,      0, 1, 0, 0,    0, 0, 1, 2.1,   0, 0, 0, 1}', 12, 0, 0, 2.1),
-- Extra floaty bits
(100, '{1, 0, 0, 0,      0, 1, 0, 0.1,    0, 0, 1, 0.22,   0, 0, 0, 1}', 13, 0, 0.01, 0.22),
(100, '{1, 0, 0, 0.1,      0, 1, 0, 0.01,    0, 0, 1, 0.7,   0, 0, 0, 1}', 14, 0.1, 0.01, 0.7);


INSERT INTO edges (keyframe_id0, keyframe_id1, type) VALUES 
(1, 2, 0),
(2, 1, 0),
(2, 3, 0),
(3, 2, 0),
(3, 5, 0),
(5, 3, 0),
(5, 4, 1), -- 4 is a floaty
(4, 5, 1),
(5, 6, 0), -- Corner
(6, 5, 0),
(7, 6, 0),
(6, 7, 0),
(7, 8, 0),
(8, 7, 0),
(8, 9, 0),
(9, 8, 0),
(9, 10, 0 ),
(10, 9, 0),
(10, 11, 0),
(11, 12, 0), 
-- Floaty bits
(8, 13, 0),
(13, 8, 0),
(13, 14, 0),
(14, 13, 0);

COMMIT;